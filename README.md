# Graphics

# Задача
Разработать приложение для отображения графиков, построенных по данным хранящимся в разных форматах. 

В приложении должны быть следующие возможности:
1. Выбор типа графика
2. Возможность сделать график черно-белым
3. Возможность сохранить график в формате PDF
4. Возможность изменять размер графика 


# Реализация 
Представлена следующая реализация приложения. 

Само приложение представляет собой виджет который содержит вертикальный макет QVBoxLayout. В него помещен виджет верхней панели и сплиттер, разделяющий два поля: список файлов и график.
Пользователь выбирает папку, используя кнопку browse. В выбранной папке будут отображаться только файлы следующих расширений: csv, json и sqlite. Выбрав папку пользователю нужно выбрать из списка файлов файл с данными. После этого нужно выбрать тип диаграммы используя выпадающий список. Используя флажок пользователь может изменить цвет диаграммы. Нажав на кнопку "Save as PDF" пользователь может сохранить диаграмму в папку, откуда была запущена программа.

Углубляясь в детали.

Для представления файловой системы используется QListView и MVC - наследник QFileSystemModel. Для чтения данных используется паттерн стратегия. В зависимости от расширения применяется та или иная стратегия, у каждой из которых один общий абстрактный класс. В каждой стратегии есть обработчики ошибок, наприме, если база данных не открылась или файл вообще пустой. При успешном открытии и чтении файла данные записываются в data - атрибут основного класса Win.

Для хранения данных используется список QList, который содержит в себе unit - структура, состоящая из ключа и значения типа QVariant.


Выбор типа диаграммы реализован с помощью QComboBox - выпадающего списка. Здесь так же есть обработчики ошибок, например, некоторые диаграммы по исходным данным можно построить, а некоторые нельзя - будет выведено сообщение о некоректных данных. Для рисования выбранного типа диаграммы используется паттерн шаблон, для которого есть общий абстрактный класс. В нем основная функция - draw() - определяет порядок создания диаграммы. В наследниках переопределяется метод, в котором и выбирается тип диаграммы. За создание объекта конкретной диаграммы отвечает IOCContainer. Таким образом мы передаем ответственность по выделению и освобождению памяти этому контейнеру.

Все кнопки соединены со своими назначениями с помощью сигнально слотового механизма

Для безопасной работы приложения использованы умные указатели unique_ptr
# UML-диаграмма

![my_uml (8)](https://github.com/CrazyF1re/Graphics/assets/46199091/87d4d326-f67a-4762-8e4c-f2595be65f6d)

